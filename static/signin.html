<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Вход</title>
    <link rel="stylesheet" href="./css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
</head>
<body class="body">
    <script type="module">
        import Signin from './components/Signin.js'
        import SigninForm from './components/SigninForm.js'
        import Input from './components/Input.js'
        import Button from './components/Button.js'
        import Validate from './utils/validate.js'

        window.validate = new Validate()
        validate.rule('login', value => value === 'demo')

        new Signin(document.body).render()

        const form = new SigninForm('signinForm', {}, [
            new Input('login', {
                name: 'login',
                type: 'text',
                value: 'demo',
                placeholder: 'Введите логин',
                rules: { login: 'Неверный логин' },
            }),
            new Input('password',{
                name: 'password',
                type: 'password',
                placeholder: 'Введите пароль',
                rules: { required: 'Введите пароль' }
            }),
            new Button('submit', {
                submit: true,
                text: 'Войти',
                view: 'action'
            }),
            new Button('register', {
                href: '/',
                text: 'Зарегистрироваться',
                view: 'pseudo'
            })
        ])
        form.render()
    </script>
</body>
</html>